___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "CAKE",
  "categories": [
    "AFFILIATE_MARKETING",
    "ATTRIBUTION",
    "ADVERTISING"
  ],
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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"
  },
  "description": "Fire CAKE pixel",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "url",
    "displayName": "url",
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "offerId",
    "displayName": "offerId",
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "eventId",
    "displayName": "eventId",
    "simpleValueType": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const log = require('logToConsole');
const inject = require('injectScript');
const callInWindow = require('callInWindow');

if (data.url && data.offerId) {
  inject('https://cakecdn.com/jssdk/lib.js', onSuccess, onFailure);
} else {
  log("'url' and 'offerId' are required");
}

function onSuccess() {  
  const cfg = {
			domain: data.url,
    		offer_id: data.offerId,
			event_id: data.eventId
  };
  
  callInWindow("CKMLib.fireEvent", cfg); 
  data.gtmOnSuccess(); 
}

function onFailure(a) {
  log('onFailure', a);  
  data.gtmOnFailure();
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://cakecdn.com/jssdk/lib.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "CKMLib.fireEvent"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: Untitled test 1
  code: |-
    const mockData = {
      // Mocked field values
    };

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('gtmOnSuccess').wasCalled();


___NOTES___

Created on 3/22/2021, 4:43:19 PM


